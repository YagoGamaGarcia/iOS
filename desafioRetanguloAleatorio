while !isOnOpenSwitch {
    while !isBlocked {
        moveForward()
    }
    turnRight()    
    if isOnClosedSwitch {
        toggleSwitch()    
    }
}